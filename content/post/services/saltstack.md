---
title: "Saltstack"
date: 2021-04-25T12:34:00+08:00
lastmod: 2021-04-25T12:34:00+08:00
draft: false
keywords: []
description: "manjoc'blog"
tags: []
categories: []
author: "王清"
---

## saltstack useful cookbook

### doc

想查找 `saltstack` 的文档？

使用命令 `salt '*' sys.doc sys` , 最后 `sys` 为模块名称, 查看所有可以使用的命令 `salt '*' sys.doc`

### toc

```shell
aliases.get_target:
aliases.has_target:
aliases.list_aliases:
aliases.rm_alias:
aliases.set_target:
alternatives.auto:
alternatives.check_exists:
alternatives.check_installed:
alternatives.display:
alternatives.install:
alternatives.remove:
alternatives.set:
alternatives.show_current:
alternatives.show_link:
archive.cmd_unzip:
archive.cmd_zip:
archive.gunzip:
archive.gzip:
archive.is_encrypted:
archive.list:
archive.rar:
archive.tar:
archive.unrar:
archive.unzip:
archive.zip:
artifactory.get_latest_release:
artifactory.get_latest_snapshot:
artifactory.get_release:
artifactory.get_snapshot:
at.at:
at.atc:
at.atq:
at.atrm:
at.jobcheck:
bridge.add:
bridge.addif:
bridge.delete:
bridge.delif:
bridge.find_interfaces:
bridge.interfaces:
bridge.list:
bridge.show:
bridge.stp:
cmd.exec_code:
cmd.exec_code_all:
cmd.has_exec:
cmd.powershell:
cmd.powershell_all:
cmd.retcode:
cmd.run:
cmd.run_all:
cmd.run_bg:
cmd.run_chroot:
cmd.run_stderr:
cmd.run_stdout:
cmd.script:
cmd.script_retcode:
cmd.shell:
cmd.shell_info:
cmd.shells:
cmd.tty:
cmd.which:
cmd.which_bin:
cp.cache_dir:
cp.cache_file:
cp.cache_files:
cp.cache_local_file:
cp.cache_master:
cp.envs:
cp.get_dir:
cp.get_file:
cp.get_file_str:
cp.get_template:
cp.get_url:
cp.hash_file:
cp.is_cached:
cp.list_master:
cp.list_master_dirs:
cp.list_master_symlinks:
cp.list_minion:
cp.list_states:
cp.push:
cp.push_dir:
cp.recv:
cp.recv_chunked:
cp.stat_file:
cron.list_tab:
cron.ls:
cron.raw_cron:
cron.rm:
cron.rm_env:
cron.rm_job:
cron.rm_special:
cron.sdecode:
cron.set_env:
cron.set_job:
cron.set_special:
cron.write_cron_file:
cron.write_cron_file_verbose:
dig.a:
dig.A:
dig.aaaa:
dig.AAAA:
dig.check_ip:
dig.mx:
dig.MX:
dig.ns:
dig.NS:
dig.spf:
dig.SPF:
dig.TXT:
disk.blkid:
disk.dump:
disk.format:
disk.fstype:
disk.inodeusage:
disk.iostat:
disk.percent:
disk.resize2fs:
disk.smart_attributes:
disk.tune:
disk.usage:
disk.wipe:
file.access:
file.append:
file.apply_template_on_contents:
file.basename:
file.blockreplace:
file.chattr:
file.check_file_meta:
file.check_hash:
file.check_managed:
file.check_managed_changes:
file.check_perms:
file.chgrp:
file.chown:
file.comment:
file.comment_line:
file.contains:
file.contains_glob:
file.contains_regex:
file.copy:
file.delete_backup:
file.directory_exists:
file.dirname:
file.diskusage:
file.extract_hash:
file.file_exists:
file.find:
file.get_devmm:
file.get_diff:
file.get_gid:
file.get_group:
file.get_hash:
file.get_managed:
file.get_mode:
file.get_selinux_context:
file.get_source_sum:
file.get_sum:
file.get_uid:
file.get_user:
file.gid_to_group:
file.grep:
file.group_to_gid:
file.is_blkdev:
file.is_chrdev:
file.is_fifo:
file.is_link:
file.join:
file.lchown:
file.line:
file.link:
file.list_backup:
file.list_backups:
file.list_backups_dir:
file.lsattr:
file.lstat:
file.makedirs:
file.makedirs_perms:
file.manage_file:
file.mkdir:
file.mknod:
file.mknod_blkdev:
file.mknod_chrdev:
file.mknod_fifo:
file.move:
file.normpath:
file.open_files:
file.pardir:
file.patch:
file.path_exists_glob:
file.prepend:
file.psed:
file.read:
file.readdir:
file.readlink:
file.remove:
file.remove_backup:
file.rename:
file.replace:
file.restore_backup:
file.restorecon:
file.rmdir:
file.search:
file.sed:
file.sed_contains:
file.seek_read:
file.seek_write:
file.set_mode:
file.set_selinux_context:
file.source_list:
file.stats:
file.statvfs:
file.symlink:
file.touch:
file.truncate:
file.uid_to_user:
file.uncomment:
file.user_to_uid:
file.write:
git.add:
git.archive:
git.branch:
git.checkout:
git.clone:
git.commit:
git.config_get:
git.config_get_regex:
git.config_get_regexp:
git.config_set:
git.config_unset:
git.current_branch:
git.describe:
git.diff:
git.fetch:
git.init:
git.is_worktree:
git.list_branches:
git.list_tags:
git.list_worktrees:
git.ls_remote:
git.merge:
git.merge_base:
git.merge_tree:
git.pull:
git.push:
git.rebase:
git.remote_get:
git.remote_refs:
git.remote_set:
git.remotes:
git.reset:
git.rev_parse:
git.revision:
git.rm:
git.stash:
git.status:
git.submodule:
git.symbolic_ref:
git.tag:
git.version:
git.worktree_add:
git.worktree_prune:
git.worktree_rm:
grains.append:
grains.delkey:
grains.delval:
grains.equals:
grains.fetch:
grains.filter_by:
grains.get:
grains.get_or_set_hash:
grains.has_value:
grains.item:
grains.items:
grains.ls:
grains.remove:
grains.set:
grains.setval:
grains.setvals:
group.add:
group.adduser:
group.chgid:
group.delete:
group.deluser:
group.getent:
group.info:
group.members:
grub.conf:
grub.version:
hosts.add_host:
hosts.get_alias:
hosts.get_ip:
hosts.has_pair:
hosts.list_hosts:
hosts.rm_host:
hosts.set_host:
iptables.append:
iptables.build_rule:
iptables.check:
iptables.check_chain:
iptables.delete:
iptables.delete_chain:
iptables.flush:
iptables.get_policy:
iptables.get_rules:
iptables.get_saved_policy:
iptables.get_saved_rules:
iptables.insert:
iptables.new_chain:
iptables.save:
iptables.set_policy:
iptables.version:
k8s.create_namespace:
k8s.create_secret:
k8s.delete_secret:
k8s.get_labels:
k8s.get_namespaces:
k8s.get_secrets:
k8s.label_absent:
k8s.label_folder_absent:
k8s.label_present:
k8s.update_secret:
kernelpkg.active:
kernelpkg.cleanup:
kernelpkg.latest_available:
kernelpkg.latest_installed:
kernelpkg.list_installed:
kernelpkg.needs_reboot:
kernelpkg.remove:
kernelpkg.upgrade:
kernelpkg.upgrade_available:
kmod.available:
kmod.check_available:
kmod.is_loaded:
kmod.load:
kmod.lsmod:
kmod.mod_list:
kmod.remove:
locale.avail:
locale.gen_locale:
locale.get_locale:
locale.list_avail:
locale.set_locale:
locate.locate:
locate.stats:
locate.updatedb:
locate.version:
log.critical:
log.debug:
log.error:
log.exception:
log.info:
log.warning:
logrotate.get:
logrotate.set:
logrotate.show_conf:
match.compound:
match.data:
match.filter_by:
match.glob:
match.grain:
match.grain_pcre:
match.ipcidr:
match.list:
match.pcre:
match.pillar:
match.pillar_pcre:
match.search_by:
mine.delete:
mine.flush:
mine.get:
mine.get_docker:
mine.send:
mine.update:
mine.valid:
minion.kill:
minion.list:
minion.restart:
mount.active:
mount.automaster:
mount.delete_mount_cache:
mount.filesystems:
mount.fstab:
mount.is_fuse_exec:
mount.is_mounted:
mount.mount:
mount.read_mount_cache:
mount.remount:
mount.rm_automaster:
mount.rm_filesystems:
mount.rm_fstab:
mount.rm_vfstab:
mount.set_automaster:
mount.set_filesystems:
mount.set_fstab:
mount.set_vfstab:
mount.swapoff:
mount.swapon:
mount.swaps:
mount.umount:
mount.vfstab:
mount.write_mount_cache:
network.active_tcp:
network.arp:
network.calc_net:
network.connect:
network.convert_cidr:
network.default_route:
network.dig:
network.get_bufsize:
network.get_fqdn:
network.get_hostname:
network.get_route:
network.hw_addr:
network.hwaddr:
network.ifacestartswith:
network.in_subnet:
network.interface:
network.interface_ip:
network.interfaces:
network.ip_addrs:
network.ip_addrs6:
network.ip_in_subnet:
network.ipaddrs:
network.ipaddrs6:
network.iphexval:
network.is_loopback:
network.is_private:
network.mod_bufsize:
network.mod_hostname:
network.netstat:
network.ping:
network.reverse_ip:
network.routes:
network.subnets:
network.subnets6:
network.traceroute:
network.wol:
nfs3.add_export:
nfs3.del_export:
nfs3.list_exports:
nfs3.reload_exports:
pillar.data:
pillar.ext:
pillar.fetch:
pillar.file_exists:
pillar.filter_by:
pillar.get:
pillar.item:
pillar.items:
pillar.keys:
pillar.ls:
pillar.obfuscate:
pillar.raw:
pkg.available_version:
pkg.clean_metadata:
pkg.del_repo:
pkg.diff:
pkg.download:
pkg.file_dict:
pkg.file_list:
pkg.get_locked_packages:
pkg.get_repo:
pkg.group_diff:
pkg.group_info:
pkg.group_install:
pkg.group_list:
pkg.groupinstall:
pkg.hold:
pkg.info_installed:
pkg.install:
pkg.latest_version:
pkg.list_downloaded:
pkg.list_holds:
pkg.list_installed_patches:
pkg.list_patches:
pkg.list_pkgs:
pkg.list_repo_pkgs:
pkg.list_repos:
pkg.list_updates:
pkg.list_upgrades:
pkg.mod_repo:
pkg.modified:
pkg.normalize_name:
pkg.owner:
pkg.purge:
pkg.refresh_db:
pkg.remove:
pkg.unhold:
pkg.upgrade:
pkg.upgrade_available:
pkg.verify:
pkg.version:
pkg.version_cmp:
pkg_resource.add_pkg:
pkg_resource.check_extra_requirements:
pkg_resource.format_pkg_list:
pkg_resource.format_version:
pkg_resource.pack_sources:
pkg_resource.parse_targets:
pkg_resource.sort_pkglist:
pkg_resource.stringify:
pkg_resource.version:
pkg_resource.version_clean:
ps.boot_time:
ps.cpu_percent:
ps.cpu_times:
ps.disk_io_counters:
ps.disk_partition_usage:
ps.disk_partitions:
ps.disk_usage:
ps.get_pid_list:
ps.get_users:
ps.kill_pid:
ps.lsof:
ps.netstat:
ps.network_io_counters:
ps.num_cpus:
ps.pgrep:
ps.pkill:
ps.proc_info:
ps.psaux:
ps.ss:
ps.swap_memory:
ps.top:
ps.total_physical_memory:
ps.virtual_memory:
quote('abc def') -> 'abc%20def'
salt_proxy.configure_proxy:
salt_proxy.is_running:
saltcheck.dumps:
saltcheck.loads:
saltcheck.run_highstate_tests:
saltcheck.run_state_tests:
saltcheck.run_test:
saltcheck.update_master_cache:
saltutil.clear_cache:
saltutil.clear_job_cache:
saltutil.cmd:
saltutil.cmd_iter:
saltutil.find_cached_job:
saltutil.find_job:
saltutil.is_running:
saltutil.kill_all_jobs:
saltutil.kill_job:
saltutil.list_extmods:
saltutil.mmodule:
saltutil.pillar_refresh:
saltutil.refresh_beacons:
saltutil.refresh_grains:
saltutil.refresh_modules:
saltutil.refresh_pillar:
saltutil.regen_keys:
saltutil.revoke_auth:
saltutil.runner:
saltutil.running:
saltutil.signal_job:
saltutil.sync_all:
saltutil.sync_beacons:
saltutil.sync_clouds:
saltutil.sync_engines:
saltutil.sync_grains:
saltutil.sync_log_handlers:
saltutil.sync_modules:
saltutil.sync_output:
saltutil.sync_outputters:
saltutil.sync_pillar:
saltutil.sync_proxymodules:
saltutil.sync_renderers:
saltutil.sync_returners:
saltutil.sync_sdb:
saltutil.sync_states:
saltutil.sync_thorium:
saltutil.sync_utils:
saltutil.term_all_jobs:
saltutil.term_job:
saltutil.update:
saltutil.wheel:
schedule.add:
schedule.build_schedule_item:
schedule.copy:
schedule.delete:
schedule.disable:
schedule.disable_job:
schedule.enable:
schedule.enable_job:
schedule.is_enabled:
schedule.list:
schedule.modify:
schedule.move:
schedule.postpone_job:
schedule.purge:
schedule.reload:
schedule.run_job:
schedule.save:
schedule.show_next_fire_time:
schedule.skip_job:
service.available:
service.delete:
service.disable:
service.disabled:
service.enable:
service.enabled:
service.get_all:
service.get_disabled:
service.get_enabled:
service.missing:
service.reload:
service.restart:
service.start:
service.status:
service.stop:
shadow.default_hash:
shadow.del_password:
shadow.gen_password:
shadow.info:
shadow.list_users:
shadow.lock_password:
shadow.set_date:
shadow.set_expire:
shadow.set_inactdays:
shadow.set_maxdays:
shadow.set_mindays:
shadow.set_password:
shadow.set_warndays:
shadow.unlock_password:
slsutil.deserialize:
slsutil.merge:
slsutil.renderer:
slsutil.serialize:
slsutil.update:
ssh.auth_keys:
ssh.check_key:
ssh.check_key_file:
ssh.check_known_host:
ssh.get_known_host:
ssh.get_known_host_entries:
ssh.hash_known_hosts:
ssh.host_keys:
ssh.key_is_encrypted:
ssh.recv_known_host:
ssh.recv_known_host_entries:
ssh.rm_auth_key:
ssh.rm_auth_key_from_file:
ssh.rm_known_host:
ssh.set_auth_key:
ssh.set_auth_key_from_file:
ssh.set_known_host:
ssh.user_keys:
state.apply:
state.check_request:
state.clear_cache:
state.clear_request:
state.disable:
state.enable:
state.event:
state.get_pauses:
state.high:
state.highstate:
state.list_disabled:
state.low:
state.orchestrate:
state.pause:
state.pkg:
state.request:
state.resume:
state.run_request:
state.running:
state.show_highstate:
state.show_low_sls:
state.show_lowstate:
state.show_sls:
state.show_state_usage:
state.show_top:
state.single:
state.sls:
state.sls_id:
state.soft_kill:
state.template:
state.template_str:
state.top:
status.all_status:
status.cpuinfo:
status.cpustats:
status.custom:
status.diskstats:
status.diskusage:
status.loadavg:
status.master:
status.meminfo:
status.netdev:
status.netstats:
status.nproc:
status.pid:
status.ping_master:
status.procs:
status.proxy_reconnect:
status.time:
status.uptime:
status.version:
status.vmstats:
status.w:
statuspage.create:
statuspage.delete:
statuspage.retrieve:
statuspage.update:
sys.argspec:
sys.doc:
sys.list_functions:
sys.list_modules:
sys.list_renderers:
sys.list_returner_functions:
sys.list_returners:
sys.list_runner_functions:
sys.list_runners:
sys.list_state_functions:
sys.list_state_modules:
sys.reload_modules:
sys.renderer_doc:
sys.returner_argspec:
sys.returner_doc:
sys.runner_argspec:
sys.runner_doc:
sys.state_argspec:
sys.state_doc:
sys.state_schema:
sysctl.assign:
sysctl.default_config:
sysctl.get:
sysctl.persist:
sysctl.show:
sysfs.attr:
sysfs.interfaces:
sysfs.read:
sysfs.target:
sysfs.write:
syslog_ng.config:
syslog_ng.config_test:
syslog_ng.get_config_file:
syslog_ng.modules:
syslog_ng.reload:
syslog_ng.set_binary_path:
syslog_ng.set_config_file:
syslog_ng.set_parameters:
syslog_ng.start:
syslog_ng.stats:
syslog_ng.stop:
syslog_ng.version:
syslog_ng.write_config:
syslog_ng.write_version:
system.get_computer_desc:
system.get_computer_name:
system.get_system_date:
system.get_system_date_time:
system.get_system_time:
system.halt:
system.has_settable_hwclock:
system.init:
system.poweroff:
system.reboot:
system.set_computer_desc:
system.set_computer_name:
system.set_system_date:
system.set_system_date_time:
system.set_system_time:
system.shutdown:
temp.dir:
temp.file:
test.arg:
test.arg_clean:
test.arg_repr:
test.arg_type:
test.assertion:
test.attr_call:
test.collatz:
test.conf_test:
test.cross_test:
test.echo:
test.exception:
test.false:
test.fib:
test.get_opts:
test.kwarg:
test.module_report:
test.not_loaded:
test.opts_pkg:
test.outputter:
test.ping:
test.provider:
test.providers:
test.rand_sleep:
test.random_hash:
test.retcode:
test.sleep:
test.stack:
test.true:
test.try:
test.tty:
test.version:
test.versions:
test.versions_information:
test.versions_report:
timezone.get_hwclock:
timezone.get_offset:
timezone.get_zone:
timezone.get_zonecode:
timezone.set_hwclock:
timezone.set_zone:
timezone.zone_compare:
udev.env:
udev.exportdb:
udev.info:
udev.links:
udev.name:
udev.path:
unquote('abc%20def') -> 'abc def'.
uptime.check_exists:
uptime.checks_list:
uptime.create:
uptime.delete:
user.add:
user.chfullname:
user.chgid:
user.chgroups:
user.chhome:
user.chhomephone:
user.chloginclass:
user.chother:
user.chroomnumber:
user.chshell:
user.chuid:
user.chworkphone:
user.delete:
user.get_loginclass:
user.getent:
user.info:
user.list_groups:
user.list_users:
user.primary_group:
user.rename:
vault.delete_secret:
vault.list_secrets:
vault.read_secret:
vault.write_secret:
```
